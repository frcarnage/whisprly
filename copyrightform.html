<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Whisprly - Copyright Infringement Report</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 700px;
      margin: 2rem auto;
      padding: 1rem 1.5rem;
      background: #fff;
      color: #222;
      line-height: 1.6;
    }
    h1 {
      text-align: center;
      margin-bottom: 1.5rem;
      color: #0F0418;
    }
    .explanation {
      background: #f0f0f0;
      padding: 1rem 1.5rem;
      border-radius: 8px;
      margin-bottom: 2rem;
      font-size: 1rem;
      color: #333;
    }
    .explanation strong {
      display: block;
      margin-bottom: 0.75rem;
      font-weight: 700;
      color: #7c3aed;
    }
    form {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      background: #f9f9f9;
      padding: 1.5rem;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    label {
      font-weight: 600;
      margin-bottom: 0.3rem;
    }
    input, select, textarea {
      font-size: 1rem;
      padding: 0.5rem;
      border: 1px solid #ccc;
      border-radius: 6px;
      width: 100%;
      resize: vertical;
    }
    select {
      height: 2.75rem;
    }
    input[type="submit"] {
      background: #7c3aed;
      color: white;
      font-weight: 700;
      border: none;
      cursor: pointer;
      transition: background 0.3s ease;
      padding: 0.75rem;
      border-radius: 8px;
      margin-top: 1rem;
    }
    input[type="submit"]:hover {
      background: #5a27b7;
    }
    .confirmation {
      text-align: center;
      color: #10b981;
      font-weight: bold;
      margin-top: 1rem;
    }
    /* Honeypot - hidden field */
    .hidden-field {
      position: absolute;
      left: -9999px;
      top: -9999px;
      height: 0; width: 0;
      overflow: hidden;
    }
  </style>
</head>
<body>
  <h1>Copyright Report Form</h1>

  <section class="explanation" aria-label="Copyright Report Explanation">
    <strong>Copyright is a legal right that protects original works of authorship, such as film, music, books and art.</strong>
    This form is to be used only for reporting alleged infringements of your copyright on Whisprly. Please note that any other types of claims will not be addressed through this form.
    Abuse of this form may result in the termination of your account or profile.
  </section>

  <form id="copyrightForm" novalidate>
    <fieldset>
      <legend><strong>Describe your relationship to the rights owner</strong></legend>
      <label><input type="radio" name="relationship" value="rights_owner" required /> I am the rights owner.</label>
      <label><input type="radio" name="relationship" value="organization" /> I am reporting on behalf of my organization or client.</label>
      <label><input type="radio" name="relationship" value="someone_else" /> I am reporting on behalf of someone else.</label>
    </fieldset>

    <fieldset>
      <legend><strong>Your Contact Information</strong></legend>
      <p>If you choose to submit this report, we will provide the rights owner's name, your email address, and the nature of your report to the person who posted the content you are reporting. This person may contact you about the report and attempt to resolve the issue.</p>

      <label for="name">Your full name *</label>
      <input id="name" name="name" type="text" required placeholder="Full Name" />

      <label for="address">Mailing address</label>
      <textarea id="address" name="address" rows="2" placeholder="Mailing address"></textarea>

      <label for="email">Email address *</label>
      <input id="email" name="email" type="email" required placeholder="professional@example.com" />

      <label for="confirmEmail">Confirm your email address *</label>
      <input id="confirmEmail" name="confirmEmail" type="email" required placeholder="Confirm email" />

      <label for="rightsOwnerName">Name of the rights owner *</label>
      <input id="rightsOwnerName" name="rightsOwnerName" type="text" required placeholder="Rights owner's full name or organization" />
    </fieldset>

    <fieldset>
      <legend><strong>Where are you asserting rights?</strong></legend>
      <label for="rightsCountry">Select a country *</label>
      <select id="rightsCountry" name="rightsCountry" required>
        <option value="" disabled selected>Select country</option>
        <option>United States</option>
        <option>United Kingdom</option>
        <option>India</option>
        <option>Canada</option>
        <option>Australia</option>
        <option>Germany</option>
        <!-- Add more countries as needed -->
      </select>
    </fieldset>

    <fieldset>
      <legend><strong>Which best describes the copyrighted work?</strong></legend>
      <label><input type="radio" name="workType" value="photo" required /> Photo</label>
      <label><input type="radio" name="workType" value="video" /> Video</label>
      <label><input type="radio" name="workType" value="text" /> Text</label>
      <label><input type="radio" name="workType" value="other" /> Other</label>
    </fieldset>

    <fieldset>
      <legend><strong>Provide links or description of the copyrighted work *</strong></legend>
      <textarea id="workLinks" name="workLinks" rows="3" required placeholder="URLs or description"></textarea>
    </fieldset>

    <fieldset>
      <legend><strong>Content You Want to Report</strong></legend>
      <label for="contentType">What type of content are you reporting? *</label>
      <select id="contentType" name="contentType" required>
        <option value="" disabled selected>Select content type</option>
        <option>Photo, video or post</option>
        <option>Story</option>
        <option>Ad</option>
        <option>Other</option>
      </select>

      <label for="contentLinks">Provide links/IDs (up to 30)</label>
      <textarea id="contentLinks" name="contentLinks" rows="5" placeholder="One URL or ID per line"></textarea>
    </fieldset>

    <fieldset>
      <legend><strong>Reason for Reporting</strong></legend>
      <label for="reason">Select a reason *</label>
      <select id="reason" name="reason" required>
        <option value="" disabled selected>Select reason</option>
        <option>This content copies my work</option>
        <option>I appear in this content</option>
        <option>This content uses my name</option>
      </select>
      <label for="additionalInfo">Additional information</label>
      <textarea id="additionalInfo" name="additionalInfo" rows="3" placeholder="Any extra details to help understand your report"></textarea>
    </fieldset>

    <fieldset>
      <legend><strong>Declaration Statement *</strong></legend>
      <label>
        <input type="checkbox" id="declaration" name="declaration" required />
        By submitting this notice, I declare that I have a good faith belief that the reported use is not authorized by the rights owner or law, and the information is accurate. I am authorized to act on behalf of the rights owner.
      </label>
    </fieldset>

    <fieldset class="hidden-field">
      <label for="hp_field">Leave this empty</label>
      <input type="text" id="hp_field" name="hp_field" autocomplete="off" tabindex="-1" />
    </fieldset>

    <input type="submit" value="Send Report" />
  </form>

  <div class="confirmation" id="confirmationMsg" style="display:none;">
    Thank you! Your report has been submitted and will be reviewed promptly.
  </div>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
  <script>
    // Your Firebase config here (replace with real config)
    const firebaseConfig = {
      apiKey: "AIzaSyAGJntf2pacqzkhyvj7P80NsNQkSAGX29g",
      authDomain: "whisprly-5415a.firebaseapp.com",
      databaseURL: "https://whisprly-5415a-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "whisprly-5415a",
      storageBucket: "whisprly-5415a.appspot.com",
      messagingSenderId: "269867240239",
      appId: "1:269867240239:web:377d0a7c3d1c3870c7efda",
      measurementId: "G-2CXWX5ZWH5"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    const form = document.getElementById("copyrightForm");
    const confirmationMsg = document.getElementById("confirmationMsg");

    form.addEventListener("submit", e => {
      e.preventDefault();

      // Honeypot spam check (should be empty)
      if (form.hp_field.value) return;

      // Simple email confirmation check
      if (form.email.value.trim() !== form.confirmEmail.value.trim()) {
        alert("Email addresses do not match.");
        return;
      }

      if (!form.checkValidity()) {
        form.reportValidity();
        return;
      }

      const data = {
        relationship: form.relationship.value,
        name: form.name.value.trim(),
        address: form.address.value.trim(),
        email: form.email.value.trim(),
        rightsOwnerName: form.rightsOwnerName.value.trim(),
        rightsCountry: form.rightsCountry.value,
        workType: form.workType.value,
        workLinks: form.workLinks.value.trim(),
        contentType: form.contentType.value,
        contentLinks: form.contentLinks.value.trim(),
        reason: form.reason.value,
        additionalInfo: form.additionalInfo.value.trim(),
        declaration: form.declaration.checked,
        submittedAt: new Date().toISOString()
      };

      db.ref('supportform').push(data)
        .then(() => {
          form.reset();
          confirmationMsg.style.display = "block";
          setTimeout(() => (confirmationMsg.style.display = "none"), 7000);
        })
        .catch(error => {
          alert("Error submitting your report. Please try again later.");
          console.error(error);
        });
    });
  </script>
</body>
</html>
